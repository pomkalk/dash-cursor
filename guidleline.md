# Product UI Guideline (PolicyPilot Reference)

Этот документ фиксирует визуальные и продуктовые правила на основе референса (экран `Documents` в стиле PolicyPilot).  
Используем как единый стандарт при разработке следующих экранов и компонентов.

## 1) Цель интерфейса

- Интерфейс должен выглядеть как современный SaaS-дэшборд для B2B: чисто, спокойно, профессионально, без визуального шума.
- В приоритете читаемость, плотность полезной информации и быстрые действия пользователя.
- Основной паттерн: **данные + мониторинг статусов + быстрые операционные действия**.

## 2) Визуальный стиль (арт-дирекшн)

- Общий тон: светлый, нейтральный, минималистичный.
- Глубина: мягкие тени, тонкие границы, большие радиусы.
- Контраст: умеренный; текст и ключевые CTA достаточно контрастны, вторичный текст приглушен.
- Акцентный цвет: насыщенный синий для важных действий и data-виджетов.
- Интерфейс не перегружаем: много воздуха, четкая иерархия блоков.

## 3) Структура страницы

Экран состоит из 3 основных зон:

1. **Top Navigation (верхняя панель):**
   - Лого слева.
   - Центр: меню разделов (Dashboard, Policies, Documents, ...).
   - Справа: action-иконки, профиль пользователя.
2. **Main Content Header:**
   - Заголовок раздела (`Documents`).
   - Primary CTA справа (`+ New Document`).
3. **Контентная сетка (2 колонки):**
   - Левая широкая колонка:
     - Карточки категорий документов.
     - Таблица Recent Files с фильтрами/поиском/сортировкой.
   - Правая узкая колонка:
     - Карточка Document Compliance.
     - Alert/notice блок.
     - Storage Usage (акцентная синяя аналитическая карточка).

## 4) Layout и сетка

- Базовый контейнер: центрирован, max-width ориентировочно `1280-1440px`.
- Внутренние отступы страницы: `24px` (desktop), `16px` (tablet/mobile).
- Контент: двухколоночный grid.
  - Desktop: `grid-cols-[2fr_1fr]`, gap `16-24px`.
  - Tablet: возможен `grid-cols-1` с переносом правых карточек вниз.
- Вертикальный ритм секций: шаг `16px` или `24px`.
- Радиусы:
  - Большие контейнеры/карточки: `16px`.
  - Кнопки/чипы/инпуты: `10-12px`.

## 5) Типографика

- Шрифт: современный grotesk/sans (например, Inter / system-ui).
- Иерархия:
  - Page title: `32/40`, semibold.
  - Section title: `20/28`, semibold.
  - Card title: `16/24`, medium/semibold.
  - Base text: `14/20`, regular.
  - Caption/meta: `12/16`, regular.
- Текстовые роли:
  - Primary text: почти черный.
  - Secondary text: серо-нейтральный.
  - Muted/meta: еще более светлый серый.

## 6) Цветовая система (приближенно от референса)

> Значения можно уточнить позже, но на старте придерживаемся этой палитры.

- `--bg-page`: `#F5F6F8`
- `--bg-surface`: `#FFFFFF`
- `--bg-surface-soft`: `#F8F9FB`
- `--text-primary`: `#111827`
- `--text-secondary`: `#6B7280`
- `--text-muted`: `#9CA3AF`
- `--border-subtle`: `#E5E7EB`
- `--primary`: `#2563EB`
- `--primary-600`: `#1D4ED8`
- `--success`: `#22C55E`
- `--warning`: `#F59E0B`
- `--danger`: `#EF4444`
- `--info`: `#06B6D4`

Для синей аналитической карточки:
- Градиент фона: от `#3B82F6` к `#1D4ED8` (или близкие).
- Белый/полупрозрачный текст и обводки.

## 7) Тени, границы, скругления

- Карточки: тонкая граница `1px` (`--border-subtle`) + мягкая тень.
- Тени:
  - Surface default: `0 1px 2px rgba(16,24,40,0.05)`
  - Hover card: `0 8px 24px rgba(16,24,40,0.08)`
- Скругления:
  - `rounded-xl` / `rounded-2xl` для крупных блоков.
  - `rounded-lg` для контролов.

## 8) Компонентные правила

### 8.1 Top Navigation

- Высота: `64-72px`.
- Меню: горизонтальные пункты; активный пункт выделяется мягкой плашкой.
- Иконки справа компактные, с hover-состоянием.
- Профиль: аватар + имя + роль.

### 8.2 Page Header

- Слева: H1.
- Справа: primary button `+ New Document`.
- Primary button:
  - высота ~ `36-40px`,
  - фон `primary`,
  - hover `primary-600`,
  - текст белый.

### 8.3 Folder Cards (категории документов)

- Карточки в строку (4 шт. на desktop).
- Контент:
  - иконка папки,
  - название,
  - мета: количество файлов + общий размер.
- Правая верхняя иконка действия (например, open/expand).
- Hover: легкое поднятие и усиление тени.

### 8.4 Recent Files Table

- В хедере секции:
  - слева табы/фильтры (`Import`, `Renew`, `Complete`),
  - справа поиск + сортировка.
- Таблица:
  - компактные строки (`44-48px`),
  - вертикальное выравнивание по центру,
  - деликатные разделители строк.
- Колонки типично:
  - Type, File ID, Uploaded by, Date, Expiration, Source, Status, Actions.
- Статусы (badge/chip):
  - Valid (зеленый),
  - Invalid (оранжевый/красноватый),
  - возможно Pending/Incomplete.

### 8.5 Document Compliance Card

- Заголовок + меню (ellipsis).
- Горизонтальный stacked progress bar по категориям.
- Ниже KPI-карточки:
  - Expired,
  - Incomplete,
  - Invalid Doc.
- Крупные агрегаты:
  - `Valid Documents`,
  - `Pending Review`.

### 8.6 Alert Card

- Небольшой инфо/предупреждающий блок.
- Иконка слева, текст справа.
- Нейтрально-теплый фон (слегка желтоватый), мягкая рамка.

### 8.7 Storage Usage Card

- Самый визуально акцентный блок справа снизу.
- Круговой индикатор (donut/progress ring) в центре.
- Справа список сегментов с цветными маркерами и объемами.
- Текст в светлых оттенках на синем градиенте.

## 9) Состояния компонентов

Обязательно реализовывать:

- `default`
- `hover`
- `active/pressed`
- `focus-visible` (outline/ring)
- `disabled`
- `loading/skeleton` (для таблиц и аналитики)
- `empty` (когда нет документов)
- `error` (ошибка загрузки данных)

## 10) Интерактивность и UX-паттерны

- Любой кликабельный элемент должен визуально реагировать на hover/focus.
- Поиск и фильтры в таблице должны быть быстрыми и не блокировать интерфейс.
- Статусы и KPI должны обновляться предсказуемо и с понятной анимацией (без резких скачков).
- Действия с риском (удаление/архивация) подтверждаются через confirm-паттерн.
- Actions menu (`...`) использовать для вторичных операций.

## 11) Иконки и графика

- Иконки однотипные по толщине и визуальному весу (heroicons/lucide-style).
- Размеры:
  - стандарт: `16-20px`,
  - в таблицах/служебных действиях: `14-16px`.
- Не смешивать стили (outline + filled) хаотично в одном блоке.

## 12) Адаптивность

Рекомендуемые брейкпоинты:

- `sm`: `640px`
- `md`: `768px`
- `lg`: `1024px`
- `xl`: `1280px`

Поведение:

- `<lg`: правая колонка уходит вниз под таблицу.
- `<md`: карточки категорий переходят в `2` колонки.
- `<sm`: карточки в `1` колонку, таблица может иметь горизонтальный скролл.
- Критические CTA (создание документа, поиск, фильтры) всегда в зоне быстрого доступа.

## 13) Accessibility (A11y)

- Контраст текста минимум WCAG AA.
- Не передавать статус только цветом: добавлять текст/иконку.
- Все интерактивные элементы доступны с клавиатуры.
- `focus-visible` обязателен и заметен.
- Таблица должна иметь корректные `th`, `scope`, aria-label для action-кнопок.
- Формы/поиск: явные label или `aria-label`.

## 14) Motion и анимации

- Анимации мягкие, короткие: `150-220ms`.
- Функции easing: `ease-out` для появления, `ease-in-out` для интерфейсных переходов.
- Не анимировать все подряд; только состояния и полезные переходы.
- Учитывать `prefers-reduced-motion`.

## 15) Tailwind-ориентированные правила реализации

- Используем utility-first подход, но:
  - повторяющиеся паттерны выносим в компоненты.
  - сложные составные блоки делим на атомарные reusable-компоненты.
- Рекомендуемая структура:
  - `src/components/layout/*`
  - `src/components/navigation/*`
  - `src/components/cards/*`
  - `src/components/table/*`
  - `src/components/charts/*`
  - `src/components/ui/*` (Button, Badge, Input, Tabs...)
- Для цветов и spacing используем централизованные токены (через CSS variables и/или theme config).
- Нельзя жестко захардкодить случайные цвета в JSX-классах для каждого блока.

## 16) Data/Content guidelines

- Форматы дат единообразные (`DD-MM-YY` или проектный стандарт).
- Числа и единицы (`files`, `MB`, `GB`) форматируем последовательно.
- Имена/аватары в таблице не должны ломать строку по высоте.
- Статусы всегда в одном регистре и в едином словаре.

## 17) Definition of Done для новых экранов

Новый экран считается готовым, если:

- Соблюдена визуальная иерархия и сетка из этого guideline.
- Есть все ключевые состояния (loading/empty/error/disabled/focus).
- Цвета, радиусы, тени и типографика соответствуют токенам.
- Экран адаптивен на `sm/md/lg/xl`.
- Пройдена базовая a11y-проверка.
- Нет визуальных конфликтов между светлыми surface-блоками и акцентными зонами.

## 18) Ограничения и допущения

- Этот guideline основан на одном референс-скриншоте, поэтому часть значений является оценочной.
- При появлении новых макетов обновляем документ, но сохраняем стилистическую консистентность.
- Если новая функциональность конфликтует с текущими правилами, сначала фиксируем решение в этом файле, затем внедряем в код.

## 19) Быстрый чеклист перед реализацией

- Понимаем, где primary и secondary action?
- Есть ли понятная иерархия заголовков и данных?
- Добавлены состояния hover/focus/disabled/loading?
- Таблица/карточки читаемы на `lg` и `sm`?
- Статусы визуально различимы и текстово подписаны?
- Соблюден единый стиль иконок, отступов, границ и радиусов?

